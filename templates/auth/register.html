{% extends "layout.html" %}
{% block title %}Registracija{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <div class="auth-logo-wrap">
            <img src="{{ url_for('static', filename='images/prinona_logo.svg') }}" alt="Prinona logo" class="auth-logo">
        </div>
        <h2 class="auth-title">Registracija</h2>
        
        <!-- Flash žinutės -->
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            <div class="alerts">
              {% for category, message in messages %}
                <div class="alert alert-{{ category }}">
                  {{ message }}
                </div>
              {% endfor %}
            </div>
          {% endif %}
        {% endwith %}
        
        <form method="POST" action="{{ url_for('register') }}" autocomplete="on" class="auth-form">
            <div class="form-group">
                <label for="username">Naudotojo vardas</label>
                <input type="text" id="username" name="username" maxlength="64" required autofocus placeholder="Įveskite naudotojo vardą">
            </div>
            <div class="form-group">
                <label for="email">El. paštas</label>
                <input type="email" id="email" name="email" maxlength="120" required placeholder="El. pašto adresas">
            </div>
            <div class="form-group">
                <label for="password">Slaptažodis</label>
                <input type="password" id="password" name="password" minlength="8" maxlength="64" required placeholder="Sukurkite slaptažodį"
                    pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z\d]).{8,}$"
                    title="Slaptažodis turi būti bent 8 simbolių, su mažosiomis, didžiosiomis, skaičiumi ir specialiu simboliu.">
            </div>
            <div class="form-group">
                <label for="password2">Pakartokite slaptažodį</label>
                <input type="password" id="password2" name="password2" minlength="8" maxlength="64" required placeholder="Pakartokite slaptažodį">
            </div>
            <div class="form-options">
                <label>
                    <input type="checkbox" name="terms" required>
                    Sutinku su <a href="#" class="form-link" target="_blank">naudojimo taisyklėmis</a>
                </label>
            </div>
            <button type="submit" class="btn btn-block">Registruotis</button>
        </form>
        <div class="auth-bottom-link">
            Jau turite paskyrą? <a href="{{ url_for('login') }}" class="form-link">Prisijungti</a>
        </div>
    </div>
</div>
{% endblock %}